---
title: 自动添加知识库文章
description: 通过工作流添加知识库文章
---
## 介绍

如果是已经编写好的文档，可以建立一个工作流重新整理，自动添加到知识库，或通过系统接口直接添加到文档知知识库。

## 工作流方式

工作流工具节点提供了两个知识库文档内容相关的工具，一个是在已有知识库的文档内容中追加新知识，另外一个是在指定的知识库、分类中创建一份新文档，根据实际场景选择即可。

以下提供一个追加文档的案例：

1、第一步使用一个大模型节点，生成内容。

案例提示词：
```python

你是一个内容生成助手，请根据用户输入的内容，生成相关知识：

用户输入：
{{role.input.user_input}}

开始生成知识吧！！

```


2、第二部配置【知识库内容追加】工具节点，把第一步生成的内容写入到知识库。

工具参数配置：

document_id参数：这个参数必须填写已有的知识库文档的id。如：1494，表示大模型生成的内容要追加到这个文档的下面。

content参数：填写的内容应该是第一步大模型的输入内容，因此使用模板规则填写。`{{role.大模型.output}}`


3、保存并运行流程，查看测试结果。

填写输入内容：华为鸿蒙系统的优点

运行完毕后查看对应文章，发现文档内容会多出关于`华为鸿蒙系统的优点`相关的内容。

> 知识库文档添加 工具也类似使用，值得注意的是参数知识库id，分类id需要固定参数，新文档的标题，文档的内容一般有大模型生成。


## 系统接口方式

接口方式请参考swagger文档：

1、添加文章接口 `http://IP：port/docs#/document_add_markdown_content_api_documents_add_content_post`

POST请求参数：
```python
{
  "knowledgebase_id": 知识库id,
  "category_id": 分类id,
  "name": "文档名称标题",
  "content": "文档的内容"
}
```
[具体代码请参考](docs/y-agent/work-flow/share-flow#通过代码调用流程).
